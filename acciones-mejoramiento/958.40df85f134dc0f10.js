"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[958],{27958:(g,p,r)=>{r.r(p),r.d(p,{RequestInitSGCModule:()=>Ue,routes:()=>P});var c=r(91553),m=r(90086),x=r(904),f=r(28167),d=r(59112),q=r(74383),_=r(69859),b=r(16400),h=r(82255),O=r(51382),l=r(49133),C=r(15882),B=r(47508),H=r(23452),S=r(42657),L=r(92070),Z=r.n(L),e=r(83668),w=r(29),Q=r(19966),y=r(39260),N=r(73205),D=r(14038),$=r(8870),U=r(79851),A=r(86019),J=r(12605),j=r(69179),W=r(38620),F=r(87444);const E=function(){return{"min-height":"60px !important"}};function K(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().successEvent()}),e._UZ(1,"mat-icon",20),e.qZA()}2&n&&(e.Akn(e.DdM(4,E)),e.Q6J("matTooltip","Si")("ngClass","text-green-500 bg-green-100 dark:text-green-50 dark:bg-green-500"))}function z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelEvent()}),e._UZ(1,"mat-icon",21),e.qZA()}2&n&&(e.Akn(e.DdM(4,E)),e.Q6J("matTooltip","No")("ngClass","text-warn-600 bg-warn-100 dark:text-warn-50 dark:bg-warn-600"))}function X(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"mat-form-field",23),e._UZ(2,"textarea",24,25),e.qZA(),e.TgZ(4,"div",26),e.TgZ(5,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitAnswer()}),e._UZ(6,"mat-icon",28),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(2),e.Q6J("rows",3),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:paper-airplane"))}function ee(n,a){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"mat-icon",20),e.qZA()),2&n&&e.Q6J("ngClass","text-green-500 bg-green-100 dark:text-green-50 dark:bg-green-500")}function te(n,a){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"mat-icon",21),e.qZA()),2&n&&e.Q6J("ngClass","text-warn-600 bg-warn-100 dark:text-warn-50 dark:bg-warn-600")}function se(n,a){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"mat-icon",35),e.qZA()),2&n&&e.Q6J("ngClass","text-blue-600 bg-blue-100 dark:text-blue-50 dark:bg-blue-600")}function ie(n,a){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"mat-icon",36),e.qZA()),2&n&&e.Q6J("ngClass","text-blue-600 bg-blue-100 dark:text-blue-50 dark:bg-blue-600")}const ne=function(){return["Si"]},oe=function(){return["No"]},M=function(){return["Si","No"]};function re(n,a){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,ee,2,1,"div",30),e.YNc(2,te,2,1,"div",30),e.YNc(3,se,2,1,"div",30),e.YNc(4,ie,2,1,"div",30),e.TgZ(5,"div",31),e.TgZ(6,"div",32),e._uU(7),e.qZA(),e.TgZ(8,"div",33),e._uU(9),e.qZA(),e.qZA(),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",e.DdM(6,ne).includes(t.answer)),e.xp6(1),e.Q6J("ngIf",e.DdM(7,oe).includes(t.answer)),e.xp6(1),e.Q6J("ngIf",!e.DdM(8,M).includes(t.answer)&&!t.root),e.xp6(1),e.Q6J("ngIf",!e.DdM(9,M).includes(t.answer)&&t.root),e.xp6(3),e.Oqu(t.question),e.xp6(2),e.Oqu(t.answer)}}const ae=function(n,a){return{"w-2/3":n,"w-1/3":a}},le=function(){return{"min-height":"30px !important"}},ue=function(n,a){return{"w-1/3":n,"w-2/3":a}};let de=(()=>{class n{constructor(t,s,i,o){this._formBuilder=t,this._service=s,this._route=i,this._alert=o,this.question="\xbfVisto el sitio del hallazgo?",this.info="",this.currentQuestion=0,this.data=[],this.enableRootQuestion=!1,this.questionaryDone=!1,this.loaded=!1,this.questionaryConfig=[{question:"\xbfFue entendido el problema y es claro?",required:!0,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfFue a sitio, observ\xf3, entrevist\xf3?",required:!0,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfSe revisaron los datos existentes sobre el problema?",required:!0,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfAl evaluar la recopilaci\xf3n de informaci\xf3n (1,2,3) considera suficiente para entablar juicio de las posibles causas?",required:!0,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfEs la Infraestructura ( m\xe1quina, SW o Herramienta) el generador del problema?",required:!1,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfSon los Recursos (materiales, Insumos) Entrante los generadores del problema?",required:!1,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfSon los Recursos (materiales, Insumos) Entrante los generadores del problema?",required:!1,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfEs el Medio Ambiente o Entorno el generador del problema?",required:!1,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfEs el M\xe9todo el generador del problema?",required:!1,answers:{success_button:!0,cancel_button:!0,answer_field:!1}},{question:"\xbfEs la informaci\xf3n  la generadora del problema?",required:!1,answers:{success_button:!0,cancel_button:!0,answer_field:!1}}],this._route.params.subscribe(T=>{this.requestId=T.id}),this.questionaryControl=t.group({answer:["",[l.kI.required]]});const u=this.questionaryConfig[this.currentQuestion];this.question=u.question,this.answers=u.answers,this.loadStep()}loadStep(){this._service.retriveStep(3,C._.toLocaleLowerCase(),this.requestId).subscribe({next:t=>{this.data=t.data,0!=t.data.length&&(this.questionaryDone=!0,this.loaded=!0,this.currentQuestion=this.questionaryConfig.length-1,this.nextQuestion())}})}rootFinder(){this.question=`\xbfPorque ${this.questionaryControl.value.answer.replace("\xbf","")}?`,this.questionaryControl.get("answer").setValue(""),this.answers={success_button:!1,cancel_button:!1,answer_field:!0}}nextQuestion(){if(this.currentQuestion+=1,this.currentQuestion==this.questionaryConfig.length)this.question="!Excelente\xa1 Analisis completo, ahora puede continuar.",this.answers={success_button:!1,cancel_button:!1,answer_field:!1},this.questionaryDone=!0;else{const t=this.questionaryConfig[this.currentQuestion];this.question=t.question,this.answers=t.answers}}backEvent(){for(this.questionaryDone&&(this.questionaryDone=!1),this.currentQuestion-=1;!["Si","No"].includes(this.data[this.data.length-1].answer);)this.data.pop();this.data.pop();const t=this.questionaryConfig[this.currentQuestion];this.question=t.question,this.answers=t.answers}successEvent(){this.enableRootQuestion?(this.data[this.data.length-1].root=!0,this.enableRootQuestion=!1,this.nextQuestion()):(this.data.push({question:this.question,answer:"Si",request_id:this.requestId}),this.questionaryConfig[this.currentQuestion].required?this.nextQuestion():(this.questionaryControl.get("answer").setValue(this.question),this.rootFinder()))}cancelEvent(){this.questionaryConfig[this.currentQuestion].required?this._alert.error("No puedes continuar hasta confirmar esta informacion."):this.enableRootQuestion?(this.data[this.data.length-1].root=!1,this.enableRootQuestion=!1,this.rootFinder()):(this.data.push({question:this.question,answer:"No",request_id:this.requestId}),this.nextQuestion())}submitAnswer(){this.questionaryControl.valid&&(this.data.push({question:this.question,answer:this.questionaryControl.value.answer,request_id:this.requestId}),this.enableRootQuestion=!0,this.question="\xbfEs esta la raiz del problema?",this.answers={success_button:!0,cancel_button:!0,answer_field:!1})}doneStep3(){if(this.loaded)return this.stepper.next();this.questionaryDone?(this._service.completeStep({answers:this.data},3,"sgc").subscribe({next:t=>{console.log(`Correcto ${t.data}`),this._alert.sucess("Buen trabajo! Analisis de causas completado."),this.stepper.next()},error:t=>{this.serverError()},complete:()=>{console.log("Completado")}}),console.log("Paso valido")):this.validationError()}serverError(){console.log("Method not implemented.")}validationError(){console.log("Method not implemented.")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(w.a),e.Y36(c.gz),e.Y36(j.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["step3"]],inputs:{stepper:"stepper"},decls:25,vars:22,consts:[[1,"flex","flex-wrap","items-start","w-full"],[1,"flex",3,"ngClass"],[1,"items-center","justify-center","h-100","m-5","w-full"],[1,"h-full"],["mat-icon-button","",1,"flex","flex-0","items-center","justify-center","w-10","h-10","sm:mr-4","rounded-full","m-2",3,"disabled","matTooltip","ngClass","click"],["svgIcon","heroicons_outline:chevron-left",1,"text-current"],[3,"formGroup"],[1,"flex","flex-col","flex-auto","m-8","mb-4"],[1,"text-2xl","font-semibold","leading-tight","text-center"],[1,"mt-4"],[1,"flex","flex-wrap","justify-center"],["mat-icon-button","","class","flex flex-0 items-center justify-center w-15 h-15 sm:mr-4 rounded-full",3,"matTooltip","style","ngClass","click",4,"ngIf"],["class","flex items-end p-4",4,"ngIf"],[1,"flex","overflow-y-auto","flex-col-reverse","h-100","m-5","w-full"],[1,"flex","flex-col","flex-auto","flex-shrink"],["class","flex items-center mt-2",4,"ngFor","ngForOf"],[1,"flex","justify-end"],["mat-flat-button","","type","button","matStepperPrevious","",1,"px-8","mr-2"],["mat-flat-button","","type","button",1,"px-8",3,"color","click"],["mat-icon-button","",1,"flex","flex-0","items-center","justify-center","w-15","h-15","sm:mr-4","rounded-full",3,"matTooltip","ngClass","click"],["svgIcon","heroicons_outline:check",1,"text-current"],["svgIcon","heroicons_outline:x",1,"text-current"],[1,"flex","items-end","p-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-bold","w-full","ml-4"],["formControlName","answer","matInput","",1,"min-h-5","my-0","resize-none",2,"margin","11px 0 !important","padding","0 !important",3,"rows"],["messageInput",""],[1,"flex","items-center","h-11","my-px","ml-4","mb-4"],["mat-icon-button","",3,"click"],[1,"transform","rotate-90",3,"svgIcon"],[1,"flex","items-center","mt-2"],["class","flex flex-0 items-center justify-center w-10 h-10 sm:mr-4 rounded-full m-2",3,"ngClass",4,"ngIf"],[1,"flex","flex-col","min-w-0"],[1,"text-xl","font-medium","leading-none"],[1,"text-l","truncate","leading-none","mt-1"],[1,"flex","flex-0","items-center","justify-center","w-10","h-10","sm:mr-4","rounded-full","m-2",3,"ngClass"],["svgIcon","heroicons_outline:annotation",1,"text-current"],["svgIcon","mat_outline:push_pin",1,"text-current"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"fuse-card",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return s.backEvent()}),e._UZ(5,"mat-icon",5),e.qZA(),e.qZA(),e.TgZ(6,"form",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e._uU(9),e.qZA(),e.TgZ(10,"div",9),e._uU(11),e.qZA(),e.TgZ(12,"div",10),e.YNc(13,K,2,5,"button",11),e.YNc(14,z,2,5,"button",11),e.qZA(),e.YNc(15,X,7,2,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",1),e.TgZ(17,"fuse-card",13),e.TgZ(18,"div",14),e.YNc(19,re,10,10,"div",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",16),e.TgZ(21,"button",17),e._uU(22," Atras "),e.qZA(),e.TgZ(23,"button",18),e.NdJ("click",function(){return s.doneStep3()}),e._uU(24," Siguiente "),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngClass",e.WLB(15,ae,!s.questionaryDone,s.questionaryDone)),e.xp6(3),e.Akn(e.DdM(18,le)),e.Q6J("disabled",0==s.currentQuestion)("matTooltip","Volver")("ngClass","text-blue-600 bg-blue-100 dark:text-blue-50 dark:bg-blue-600"),e.xp6(2),e.Q6J("formGroup",s.questionaryControl),e.xp6(3),e.Oqu(s.question),e.xp6(2),e.hij(" ",s.info," "),e.xp6(2),e.Q6J("ngIf",!s.answers.answer_field&&s.answers.success_button),e.xp6(1),e.Q6J("ngIf",!s.answers.answer_field&&s.answers.cancel_button),e.xp6(1),e.Q6J("ngIf",s.answers.answer_field),e.xp6(1),e.Q6J("ngClass",e.WLB(19,ue,!s.questionaryDone,s.questionaryDone)),e.xp6(3),e.Q6J("ngForOf",s.data),e.xp6(4),e.Q6J("color","primary"))},directives:[A.mk,W.y,m.lW,F.gM,d.Hw,l._Y,l.JL,l.sg,A.O5,A.sg,h.fd,f.KE,l.Fj,q.Nt,l.JJ,l.u],styles:[""]}),n})();var R=r(6731),I=r(98727),Y=r(66289),G=r(42318);const _e=["stepper"];function ce(n,a){1&n&&e._uU(0,"Equipo de trabajo")}function pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-option",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickUser("lead_name","1")}),e._uU(1),e.qZA()}if(2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}function me(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-option",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onClickUser("user_name_"+i,"1")}),e._uU(1),e.qZA()}if(2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}function ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17),e.TgZ(1,"p",18),e._uU(2),e.qZA(),e.TgZ(3,"mat-form-field",19),e.TgZ(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"input",37),e.NdJ("input",function(){const o=e.CHM(t).$implicit;return e.oxw().onChangeFilter("user_name_"+o,"user","1")}),e.qZA(),e.TgZ(7,"mat-autocomplete",21,38),e.ynx(9),e.YNc(10,me,2,2,"mat-option",23),e.BQk(),e.qZA(),e.qZA(),e.TgZ(11,"mat-form-field",19),e.TgZ(12,"mat-label"),e._uU(13,"Area"),e.qZA(),e._UZ(14,"input",39),e.qZA(),e.TgZ(15,"mat-form-field",19),e.TgZ(16,"mat-label"),e._uU(17,"Cargo"),e.qZA(),e._UZ(18,"input",39),e.qZA(),e.qZA()}if(2&n){const t=a.$implicit,s=e.MAs(8),i=e.oxw();e.xp6(2),e.hij("Integrante ",t,""),e.xp6(4),e.Q6J("name","user_name_"+t)("id","user_name_"+t)("formControlName","user_name_"+t)("matAutocomplete",s),e.xp6(1),e.Q6J("displayWith",i.displayUser),e.xp6(3),e.Q6J("ngForOf",i.selectables["user_name_"+t]),e.xp6(4),e.Q6J("name","user_area_"+t)("id","user_area_"+t)("formControlName","user_area_"+t),e.xp6(4),e.Q6J("name","user_position_"+t)("id","user_position_"+t)("formControlName","user_position_"+t)}}function fe(n,a){1&n&&e._uU(0,"Accion de Correccion Inmediata")}function he(n,a){if(1&n&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}const V=function(){return{height:"400px"}};function Ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab",40),e.TgZ(1,"div",17),e.TgZ(2,"mat-form-field",41),e.TgZ(3,"mat-label"),e._uU(4,"Descripcion breve de la accion correctiva"),e.qZA(),e._UZ(5,"input",39),e.qZA(),e.TgZ(6,"mat-form-field",42),e.TgZ(7,"mat-label"),e._uU(8,"Nombre del responsable"),e.qZA(),e.TgZ(9,"input",37),e.NdJ("input",function(){const o=e.CHM(t).$implicit;return e.oxw().onChangeFilter("person_assigned_id_"+o,"user","2")}),e.qZA(),e.TgZ(10,"mat-autocomplete",21,43),e.ynx(12),e.YNc(13,he,2,2,"mat-option",44),e.BQk(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",17),e.TgZ(15,"mat-form-field",45),e.TgZ(16,"mat-label"),e._uU(17,"Fecha inicio"),e.qZA(),e.TgZ(18,"input",46),e.NdJ("dateChange",function(){const o=e.CHM(t).$implicit;return e.oxw().autofillWeek(o,2)}),e.qZA(),e._UZ(19,"mat-datepicker-toggle",47),e._UZ(20,"mat-datepicker",null,48),e.qZA(),e.TgZ(22,"mat-form-field",45),e.TgZ(23,"mat-label"),e._uU(24,"Fecha fin"),e.qZA(),e.TgZ(25,"input",46),e.NdJ("dateChange",function(){const o=e.CHM(t).$implicit;return e.oxw().autofillWeek(o,2)}),e.qZA(),e._UZ(26,"mat-datepicker-toggle",47),e._UZ(27,"mat-datepicker",null,49),e.qZA(),e.TgZ(29,"mat-form-field",50),e.TgZ(30,"mat-label"),e._uU(31,"Plazo semana"),e.qZA(),e._UZ(32,"input",39),e.qZA(),e.qZA(),e.TgZ(33,"div",17),e.TgZ(34,"mat-label"),e._uU(35,"Seguimiento"),e.qZA(),e._UZ(36,"quill-editor",51),e.qZA(),e.TgZ(37,"div",17),e.TgZ(38,"mat-form-field",17),e.TgZ(39,"mat-label",52),e._uU(40,"Evidencia"),e.qZA(),e.TgZ(41,"ngx-mat-file-input",53),e.NdJ("change",function(){const o=e.CHM(t).$implicit;return e.oxw().onChangeFileI("2","evidence_file_"+o)}),e.qZA(),e.TgZ(42,"mat-icon",54),e._uU(43,"folder"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=a.$implicit,s=e.MAs(11),i=e.MAs(21),o=e.MAs(28),u=e.oxw();e.Q6J("label","Accion Correctiva "+t),e.xp6(5),e.Q6J("name","goal_description_"+t)("id","goal_description_"+t)("formControlName","goal_description_"+t),e.xp6(4),e.Q6J("name","person_assigned_id_"+t)("id","person_assigned_id_"+t)("formControlName","person_assigned_id_"+t)("matAutocomplete",s),e.xp6(1),e.Q6J("displayWith",u.displayUser),e.xp6(3),e.Q6J("ngForOf",u.selectables["person_assigned_id_"+t]),e.xp6(5),e.Q6J("matDatepicker",i)("name","init_date_"+t)("id","init_date_"+t)("formControlName","init_date_"+t),e.xp6(1),e.Q6J("for",i),e.xp6(6),e.Q6J("matDatepicker",o)("name","end_date_"+t)("id","end_date_"+t)("formControlName","end_date_"+t),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Q6J("name","unit_measurement_"+t)("id","unit_measurement_"+t)("formControlName","unit_measurement_"+t),e.xp6(4),e.Q6J("name","follow_process_description_"+t)("id","follow_process_description_"+t)("formControlName","follow_process_description_"+t)("styles",e.DdM(30,V)),e.xp6(3),e.Q6J("id","evidence_file_"+t),e.xp6(2),e.Q6J("name","evidence_file_"+t)("formControlName","evidence_file_"+t)}}function qe(n,a){1&n&&e._uU(0,"Analisis de causas")}function ve(n,a){1&n&&e._uU(0,"Accion correctiva Definitiva")}function Ce(n,a){if(1&n&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}function xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab",40),e.TgZ(1,"div",17),e.TgZ(2,"mat-form-field",41),e.TgZ(3,"mat-label"),e._uU(4,"Descripcion breve de la accion correctiva"),e.qZA(),e._UZ(5,"input",39),e.qZA(),e.TgZ(6,"mat-form-field",42),e.TgZ(7,"mat-label"),e._uU(8,"Nombre del responsable"),e.qZA(),e.TgZ(9,"input",37),e.NdJ("input",function(){const o=e.CHM(t).$implicit;return e.oxw().onChangeFilter("person_assigned_id_"+o,"user","4")}),e.qZA(),e.TgZ(10,"mat-autocomplete",21,56),e.ynx(12),e.YNc(13,Ce,2,2,"mat-option",44),e.BQk(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",17),e.TgZ(15,"mat-form-field",45),e.TgZ(16,"mat-label"),e._uU(17,"Fecha inicio"),e.qZA(),e.TgZ(18,"input",46),e.NdJ("dateChange",function(){const o=e.CHM(t).$implicit;return e.oxw().autofillWeek(o,4)}),e.qZA(),e._UZ(19,"mat-datepicker-toggle",47),e._UZ(20,"mat-datepicker",null,57),e.qZA(),e.TgZ(22,"mat-form-field",45),e.TgZ(23,"mat-label"),e._uU(24,"Fecha fin"),e.qZA(),e.TgZ(25,"input",46),e.NdJ("dateChange",function(){const o=e.CHM(t).$implicit;return e.oxw().autofillWeek(o,4)}),e.qZA(),e._UZ(26,"mat-datepicker-toggle",47),e._UZ(27,"mat-datepicker",null,58),e.qZA(),e.TgZ(29,"mat-form-field",50),e.TgZ(30,"mat-label"),e._uU(31,"Plazo semana"),e.qZA(),e._UZ(32,"input",39),e.qZA(),e.qZA(),e.TgZ(33,"div",17),e.TgZ(34,"mat-label"),e._uU(35,"Seguimiento"),e.qZA(),e._UZ(36,"quill-editor",51),e.qZA(),e.TgZ(37,"div",17),e.TgZ(38,"mat-form-field",17),e.TgZ(39,"mat-label",52),e._uU(40,"Evidencia"),e.qZA(),e.TgZ(41,"ngx-mat-file-input",53),e.NdJ("change",function(){const o=e.CHM(t).$implicit;return e.oxw().onChangeFileD("4","evidence_file_"+o)}),e.qZA(),e.TgZ(42,"mat-icon",54),e._uU(43,"folder"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=a.$implicit,s=e.MAs(11),i=e.MAs(21),o=e.MAs(28),u=e.oxw();e.Q6J("label","Accion Correctiva "+t),e.xp6(5),e.Q6J("name","goal_description_"+t)("id","goal_description_"+t)("formControlName","goal_description_"+t),e.xp6(4),e.Q6J("name","person_assigned_id_"+t)("id","person_assigned_id_"+t)("formControlName","person_assigned_id_"+t)("matAutocomplete",s),e.xp6(1),e.Q6J("displayWith",u.displayUser),e.xp6(3),e.Q6J("ngForOf",u.selectables["person_assigned_id_"+t]),e.xp6(5),e.Q6J("matDatepicker",i)("name","init_date_"+t)("id","init_date_"+t)("formControlName","init_date_"+t),e.xp6(1),e.Q6J("for",i),e.xp6(6),e.Q6J("matDatepicker",o)("name","end_date_"+t)("id","end_date_"+t)("formControlName","end_date_"+t),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Q6J("name","unit_measurement_"+t)("id","unit_measurement_"+t)("formControlName","unit_measurement_"+t),e.xp6(4),e.Q6J("name","follow_process_description_"+t)("id","follow_process_description_"+t)("formControlName","follow_process_description_"+t)("styles",e.DdM(30,V)),e.xp6(3),e.Q6J("id","evidence_file_"+t),e.xp6(2),e.Q6J("name","evidence_file_"+t)("formControlName","evidence_file_"+t)}}let be=(()=>{class n{constructor(t,s,i,o,u,T,Je,ke,Qe,ye){this._formBuilder=t,this._route=s,this._service=i,this._router=o,this.snackBar=u,this._cdr=T,this._coreUserService=Je,this._userService=ke,this._selectableService=Qe,this._requestService=ye,this.workTeam=[1],this.standard1=[1],this.standard2=[1],this.upgradePlanI=[1],this.upgradePlanD=[1],this.srcResult="",this.base64FilesI={},this.base64FilesD={},this.isAdmin=!1,this.disables=[],this.selectables={},this._coreUserService.get().subscribe({next:k=>{this.verifyPermission(),this.user=k.data}}),this._route.params.subscribe(k=>{this.requestId=k.id}),this.loadFormGroup(),this.loadUsers("lead_name","1"),this.loadUsers("user_name_1","1"),this.loadUsers("user_name_2","1"),this.loadUsers("user_name_3","1"),this.loadUsers("user_name_4","1"),this.loadUsers("user_name_5","1"),this.loadUsers("person_assigned_id_1","2"),this.loadUsers("person_assigned_id_2","2"),this.loadUsers("person_assigned_id_3","2"),this.loadUsers("person_assigned_id_4","2"),this.loadUsers("person_assigned_id_5","2"),this.loadUsers("person_assigned_id_1","3"),this.loadUsers("person_assigned_id_2","3"),this.loadUsers("person_assigned_id_3","3"),this.loadUsers("person_assigned_id_4","3"),this.loadUsers("person_assigned_id_5","3"),this.loadStep1(),this.loadStep2(),this.loadStep3(),this.loadStep4()}verifyPermission(){this._requestService.findRequest(this.requestId,C._).subscribe({next:t=>{console.log(this.user.id.toString()!=t.data[0].process_lead_id),this.user.id.toString()!=t.data[0].process_lead_id&&(this.disables=[1,2,3,4])}})}loadStep5(){this._service.retriveStep(5,C._.toLocaleLowerCase(),this.requestId).subscribe({next:t=>{if(0!=t.data.length){const s=t.data[0];this.getStep(5).get("objective").setValue(s.objective),this.getStep(5).get("result_analysis").setValue(s.result_analysis),this.getStep(5).get("result_code").setValue({description:s.result_description}),this.getStep(5).get("total_agree").setValue(s.total_agree),this.getStep(5).get("total_disagree").setValue(s.total_disagree),this.getStep(5).get("total_fulfilment").setValue(s.total_fulfilment),this.getStep(5).get("total_review").setValue(s.total_review),this.getStep(5).get("tracking_date").setValue(s.tracking_date),this.getStep(5).get("created_at").setValue(Z()(s.created_at).toDate()),this.getStep(5).get("tracking_date_period_end").setValue(Z()(s.tracking_date_period_end,"YYYY-MM-DD HH:mm:ss").toDate()),this.getStep(5).get("tracking_date_period_init").setValue(Z()(s.tracking_date_period_init,"YYYY-MM-DD HH:mm:ss").toDate()),this.getStep(5).get("tracking_date").setValue(Z()(s.tracking_date,"YYYY-MM-DD HH:mm:ss").toDate()),this.getStep(5).get("user_granted_id").setValue({name:s.user_granted_name}),this.getStep(5).get("user_tracking_id").setValue({name:s.user_tracking_name}),console.log(this.getStep(5)),this.disables.push(5),this.onDone()}}})}loadStep2(){this._service.retriveStep(2,C._.toLocaleLowerCase(),this.requestId).subscribe({next:t=>{let s=1;t.data.forEach(i=>{this.getStep(2).get("goal_description_"+s).setValue(i.goal_description),this.getStep(2).get("person_assigned_id_"+s).setValue({id:i.person_assigned_id,name:i.person_assigned_name}),this.getStep(2).get("init_date_"+s).setValue(Z()(i.init_date,"YYYY-MM-DD HH:mm:ss").toDate()),this.getStep(2).get("end_date_"+s).setValue(Z()(i.end_date,"YYYY-MM-DD HH:mm:ss").toDate()),this.getStep(2).get("unit_measurement_"+s).setValue(i.unit_measurement),this.getStep(2).get("follow_process_description_"+s).setValue(i.follow_process_description),s+=1});for(let i=0;i<s-2;i++)this.addCauses(this.upgradePlanI);console.log(this.getStep(2)),0!=t.data.length&&(this.disables.push(2),this.onDone())}})}loadStep4(){this._service.retriveStep(4,C._.toLocaleLowerCase(),this.requestId).subscribe({next:t=>{let s=1;t.data.forEach(i=>{this.getStep(4).get("goal_description_"+s).setValue(i.goal_description),this.getStep(4).get("person_assigned_id_"+s).setValue({id:i.person_assigned_id,name:i.person_assigned_name}),this.getStep(4).get("init_date_"+s).setValue(Z()(i.init_date,"YYYY-MM-DD HH:mm:ss").toDate()),this.getStep(4).get("end_date_"+s).setValue(Z()(i.end_date,"YYYY-MM-DD HH:mm:ss").toDate()),this.getStep(4).get("unit_measurement_"+s).setValue(i.unit_measurement),this.getStep(4).get("follow_process_description_"+s).setValue(i.follow_process_description),s+=1});for(let i=0;i<s-2;i++)this.addCauses(this.upgradePlanD);0!=t.data.length&&(this.disables.push(4),this.onDone())}})}loadStep3(){this._service.retriveStep(3,C._.toLocaleLowerCase(),this.requestId).subscribe({next:t=>{0!=t.data.length&&(this.disables.push(3),this.onDone())}})}loadStep1(){this._service.retriveStep(1,C._.toLocaleLowerCase(),this.requestId).subscribe({next:t=>{let s=!0,i=1;t.data.forEach(o=>{s?(this.getStep(1).get("lead_name").setValue(o),this.getStep(1).get("lead_area").setValue(o.area),this.getStep(1).get("lead_position").setValue(o.position),s=!1):(this.getStep(1).get("user_name_"+i).setValue(o),this.getStep(1).get("user_area_"+i).setValue(o.area),this.getStep(1).get("user_position_"+i).setValue(o.position),i+=1)});for(let o=0;o<i-2;o++)this.addCauses(this.workTeam);0!=t.data.length&&(this.disables.push(1),this.onDone())}})}onDone(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.disables.forEach(t=>{this.stepper.next()}),console.log(this.disables.length)},1e3)}loadUsers(t,s){this._userService.getUsers(this.getFilter(t,s)).subscribe({next:i=>{let o=[];i.data.forEach(u=>{o.push(new H.T(u)),this._cdr.detectChanges()}),this.selectables[t]=[...o]}})}onChangeFilter(t,s,i){this.inputTimeout&&clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(()=>{s.includes("selectable")?this.loadSelectables(t,i):this.loadUsers(t,i)},500)}loadSelectables(t,s){this._selectableService.getSelectable(this.getselectableTable(t),this.getFilter(t,s)).subscribe({next:i=>{let o=[];i.data.forEach(u=>{o.push(new B.t(u)),this._cdr.detectChanges()}),this.selectables[t]=[...o]}})}getselectableTable(t){return{result_code:"result_types"}[t]}displayUser(t){return t?t.name:""}onClickUser(t,s){const i=Object.assign({},this.getStep(s).get(t).value);this.getStep(s).get(t.replace("name","id")).setValue(i.id),this.getStep(s).get(t.replace("name","area")).setValue(i.area_description),this.getStep(s).get(t.replace("name","position")).setValue(i.position_description)}displaySelectable(t){return t?t.description:""}getFilter(t,s){return this.getStep(s).value[t]}ngAfterContentChecked(){this.refactorForm()}loadFormGroup(){this.formControl=this._formBuilder.group({step1:this._formBuilder.group(this.workTeamFormControl),step2:this._formBuilder.group(this.upgradePlanIIFormControl),step3:this._formBuilder.group({}),step4:this._formBuilder.group(this.upgradePlanIPFormControl)})}addCauses(t){t.length<5&&t.push(t.length+1)}removeCauses(t){t.length>1&&t.pop()}onChangeFileI(t,s){console.log("File Changed");let i=new FileReader;console.log(this.getStep(t).value,s),i.readAsDataURL(this.getStep(t).value[s].files[0]),i.onload=()=>{this.base64FilesI[s]=i.result,console.log("Base 64 convertido")},i.onerror=function(o){console.log("Error: ",o)}}onChangeFileD(t,s){console.log("File Changed");let i=new FileReader;console.log(this.getStep(t).value,s),i.readAsDataURL(this.getStep(t).value[s].files[0]),i.onload=()=>{this.base64FilesD[s]=i.result,console.log("Base 64 convertido")},i.onerror=function(o){console.log("Error: ",o)}}autofillReview(t,s){const i=this.getStep(5);console.log(i),t&&s&&(i.get("total_review").setValue(t+s),i.get("total_fulfilment").setValue(t/(t+s)*100))}get workTeamFormControl(){const t={};for(let s=1;s<=5;s++)t[`user_id_${s}`]=[null,[]],t[`user_name_${s}`]=["",[l.kI.required,S.Z]],t[`user_area_${s}`]=["",[l.kI.required]],t[`user_position_${s}`]=["",[l.kI.required]];return Object.assign({lead_id:[null,[]],lead_name:["",[l.kI.required,S.Z]],lead_area:["",[l.kI.required]],lead_position:["",[l.kI.required]]},t)}autofillWeek(t,s){const i=this.getStep(s).value;console.log(i);let o=i["init_date_"+t],u=i["end_date_"+t];if(o&&u){const T=Math.floor((Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())-Date.UTC(u.getFullYear(),u.getMonth(),u.getDate()))/864e5);this.getStep(s).get("unit_measurement_"+t).setValue(Math.ceil(Math.abs(T/7)))}}get upgradePlanIIFormControl(){const t={};for(let s=1;s<=5;s++)t[`goal_description_${s}`]=["",[l.kI.required]],t[`person_assigned_id_${s}`]=["",[l.kI.required,S.Z]],t[`init_date_${s}`]=["",[l.kI.required]],t[`end_date_${s}`]=["",[l.kI.required]],t[`unit_measurement_${s}`]=["",[l.kI.required]],t[`follow_process_description_${s}`]=["",[l.kI.required]],t[`evidence_file_${s}`]=["",[l.kI.required]];return t}get upgradePlanIPFormControl(){const t={};for(let s=1;s<=5;s++)t[`goal_description_${s}`]=["",[l.kI.required]],t[`person_assigned_id_${s}`]=["",[l.kI.required,S.Z]],t[`init_date_${s}`]=["",[l.kI.required]],t[`end_date_${s}`]=["",[l.kI.required]],t[`unit_measurement_${s}`]=["",[l.kI.required]],t[`follow_process_description_${s}`]=["",[l.kI.required]],t[`evidence_file_${s}`]=["",[l.kI.required]];return t}refactorForm(){const t={1:["user_name","user_area","user_position"],2:["goal_description","person_assigned_id","init_date","end_date","unit_measurement","follow_process_description","evidence_file"],4:["goal_description","person_assigned_id","init_date","end_date","unit_measurement","follow_process_description","evidence_file"]};Object.keys(t).forEach(s=>{t[s].forEach(i=>{for(let o=1;o<=5;o++)document.querySelector(`#${i}_${o}`)?this.getStep(s).get(`${i}_${o}`).enable():this.getStep(s).get(`${i}_${o}`).disable(),"2"==s&&(this.upgradePlanI.length>=o?this.getStep(s).get(`${i}_${o}`).enable():this.getStep(s).get(`${i}_${o}`).disable())})}),this.disables.forEach(s=>{this.getStep(s).disable()})}doneStep1(){if(this.disables.includes(1))return this.stepper.next();if(this.isValidStep(1)){const t=this.getStep(1).value,s={name:"String"==t.lead_name.constructor.name?t.lead_name:t.lead_name.name,area:t.lead_area,position:t.lead_position,request_id:this.requestId};t.lead_id&&(s.user_id=t.lead_id);const i=[s];this.workTeam.forEach(o=>{const u={name:"String"==t[`user_name_${o}`].constructor.name?t[`user_name_${o}`]:t[`user_name_${o}`].name,area:t[`user_area_${o}`],position:t[`user_position_${o}`],request_id:this.requestId};t[`user_id_${o}`]&&(u.user_id=t[`user_id_${o}`]),i.push(u)}),this._service.completeStep({team_memebers:i},1,"sgc").subscribe({next:o=>{console.log(`Correcto ${o.data}`),this.stepper.next()},error:o=>{this.serverError()},complete:()=>{console.log("Completado")}}),console.log("Paso valido")}else this.validationError()}doneStep2(){if(this.disables.includes(2))return this.stepper.next();if(this.isValidStep(2)){const t=this.getStep(2).value,s=[];this.upgradePlanI.forEach(i=>{s.push({goal_description:t[`goal_description_${i}`],person_assigned_id:t[`person_assigned_id_${i}`].id,init_date:t[`init_date_${i}`],end_date:t[`end_date_${i}`],unit_measurement:t[`unit_measurement_${i}`],follow_process_description:t[`follow_process_description_${i}`],evidence_file:this.base64FilesI[`evidence_file_${i}`],percentage:t[`percentage_${i}`],request_id:this.requestId})}),this._service.completeStep({tracking_id:this.requestId,upgrade_plan:s},2,"sgc").subscribe({next:i=>{console.log(`Correcto ${i.data}`),this.stepper.next()},error:i=>{this.serverError()},complete:()=>{console.log("Completado")}}),console.log("Paso valido")}else this.validationError()}doneStep4(){if(this.isValidStep(4)){const t=this.getStep(4).value,s=[];console.log(this.isValidStep(4)),this.upgradePlanD.forEach(i=>{s.push({goal_description:t[`goal_description_${i}`],person_assigned_id:t[`person_assigned_id_${i}`].id,init_date:t[`init_date_${i}`],end_date:t[`end_date_${i}`],unit_measurement:t[`unit_measurement_${i}`],follow_process_description:t[`follow_process_description_${i}`],evidence_file:this.base64FilesD[`evidence_file_${i}`],percentage:t[`percentage_${i}`],request_id:this.requestId})}),this._service.completeStep({upgrade_plan:s},4,"sgc").subscribe({next:i=>{console.log(`Correcto ${i.data}`),this._router.navigateByUrl("/request/list/sgc")},error:i=>{this.serverError()},complete:()=>{console.log("Completado")}}),console.log("Paso valido")}else this.validationError()}doneStep5(){if(console.log(this.getStep(5)),this.isValidStep(5)){const t=Object.assign({},this.getStep(5).value);t.result_code=t.result_code.code,t.user_granted_id=t.user_granted_id.id,t.user_tracking_id=t.user_tracking_id.id,this._service.completeStep({tracking_id:this.requestId,finish_request:t},5,"sgc").subscribe({next:s=>{console.log(`Correcto ${s.data}`),this._router.navigateByUrl("/request/list/sgc")},error:s=>{this.serverError()},complete:()=>{console.log("Completado")}}),console.log("Paso valido")}else this.validationError()}validationError(){this.snackBar.open("Todos los campos son obligatorios, ","Entiendo",{duration:3e3})}serverError(){this.snackBar.open("Parece que tenemos un problema con el servidor, vuelva a intentarlo mas tarde","Entiendo",{duration:3e3})}isValidStep(t){return!!this.disables.includes(t)||this.getStep(t).valid}getStep(t){return this.formControl.controls[`step${t}`]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(c.gz),e.Y36(w.a),e.Y36(c.F0),e.Y36(Q.ux),e.Y36(e.sBO),e.Y36(y.K),e.Y36(N.K),e.Y36(D.o),e.Y36($.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-init"]],viewQuery:function(t,s){if(1&t&&e.Gf(_e,5),2&t){let i;e.iGM(i=e.CRH())&&(s.stepper=i.first)}},decls:81,vars:27,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex-auto","p-6","sm:p-10"],[1,"max-w-full"],[1,"p-4","bg-card","shadow","rounded","overflow-hidden",3,"formGroup"],[3,"linear"],["stepper",""],[3,"formGroupName","stepControl"],["matStepLabel",""],[1,"w-full"],[1,"pb-5"],[1,"w-1/3","pl-2"],["matInput","","name","lead_name","formControlName","lead_name",3,"matAutocomplete","input"],[3,"displayWith"],["auto0","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","name","lead_area","formControlName","lead_area"],["matInput","","name","lead_position","formControlName","lead_position"],[1,"flex","justify-end"],["mat-icon-button","",3,"click"],[1,"mr-2",3,"svgIcon"],["class","w-full",4,"ngFor","ngForOf"],["mat-flat-button","","type","button",1,"px-8",3,"color","click"],[1,"flex","justify-end","mt-5"],[1,"mt-5"],[3,"label",4,"ngFor","ngForOf"],["mat-flat-button","","type","button","matStepperPrevious","",1,"px-8","mr-2"],[3,"stepper"],[3,"value","click"],["matInput","",3,"name","id","formControlName","matAutocomplete","input"],["auto1","matAutocomplete"],["matInput","",3,"name","id","formControlName"],[3,"label"],[1,"w-1/2","pr-4"],[1,"w-1/2"],["auto20","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"w-1/3","pr-4"],["matInput","",3,"matDatepicker","name","id","formControlName","dateChange"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"w-1/3"],[3,"name","id","formControlName","styles"],[3,"id"],[3,"name","formControlName","change"],["matSuffix",""],[3,"value"],["auto30","matAutocomplete"],["picker3",""],["picker4",""]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div"),e.TgZ(5,"a",4),e._uU(6,"Solicitud"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Atender solicitud"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"h2",9),e._uU(13," Atender Solicitud "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e.TgZ(16,"form",12),e.TgZ(17,"mat-vertical-stepper",13,14),e.TgZ(19,"mat-step",15),e.YNc(20,ce,1,0,"ng-template",16),e.TgZ(21,"div",17),e.TgZ(22,"div",17),e.TgZ(23,"p",18),e._uU(24,"Lider"),e.qZA(),e.TgZ(25,"mat-form-field",19),e.TgZ(26,"mat-label"),e._uU(27,"Nombre"),e.qZA(),e.TgZ(28,"input",20),e.NdJ("input",function(){return s.onChangeFilter("lead_name","user","1")}),e.qZA(),e.TgZ(29,"mat-autocomplete",21,22),e.ynx(31),e.YNc(32,pe,2,2,"mat-option",23),e.BQk(),e.qZA(),e.qZA(),e.TgZ(33,"mat-form-field",19),e.TgZ(34,"mat-label"),e._uU(35,"Area"),e.qZA(),e._UZ(36,"input",24),e.qZA(),e.TgZ(37,"mat-form-field",19),e.TgZ(38,"mat-label"),e._uU(39,"Cargo"),e.qZA(),e._UZ(40,"input",25),e.qZA(),e.qZA(),e.TgZ(41,"div",26),e.TgZ(42,"button",27),e.NdJ("click",function(){return s.removeCauses(s.workTeam)}),e._UZ(43,"mat-icon",28),e.qZA(),e.TgZ(44,"button",27),e.NdJ("click",function(){return s.addCauses(s.workTeam)}),e._UZ(45,"mat-icon",28),e.qZA(),e.qZA(),e.YNc(46,ge,19,13,"div",29),e.qZA(),e.TgZ(47,"div",26),e.TgZ(48,"button",30),e.NdJ("click",function(){return s.doneStep1()}),e._uU(49," Siguiente "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"mat-step",15),e.YNc(51,fe,1,0,"ng-template",16),e.TgZ(52,"div",31),e.TgZ(53,"button",27),e.NdJ("click",function(){return s.removeCauses(s.upgradePlanI)}),e._UZ(54,"mat-icon",28),e.qZA(),e.TgZ(55,"button",27),e.NdJ("click",function(){return s.addCauses(s.upgradePlanI)}),e._UZ(56,"mat-icon",28),e.qZA(),e.qZA(),e.TgZ(57,"mat-tab-group",32),e.YNc(58,Ze,44,31,"mat-tab",33),e.qZA(),e.TgZ(59,"div",26),e.TgZ(60,"button",34),e._uU(61," Atras "),e.qZA(),e.TgZ(62,"button",30),e.NdJ("click",function(){return s.doneStep2()}),e._uU(63," Siguiente "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"mat-step",15),e.YNc(65,qe,1,0,"ng-template",16),e._UZ(66,"step3",35),e.qZA(),e.TgZ(67,"mat-step",15),e.YNc(68,ve,1,0,"ng-template",16),e.TgZ(69,"div",31),e.TgZ(70,"button",27),e.NdJ("click",function(){return s.removeCauses(s.upgradePlanD)}),e._UZ(71,"mat-icon",28),e.qZA(),e.TgZ(72,"button",27),e.NdJ("click",function(){return s.addCauses(s.upgradePlanD)}),e._UZ(73,"mat-icon",28),e.qZA(),e.qZA(),e.TgZ(74,"mat-tab-group",32),e.YNc(75,xe,44,31,"mat-tab",33),e.qZA(),e.TgZ(76,"div",26),e.TgZ(77,"button",34),e._uU(78," Atras "),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return s.doneStep4()}),e._uU(80," Siguiente "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(18),o=e.MAs(30);e.xp6(8),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(8),e.Q6J("formGroup",s.formControl),e.xp6(1),e.Q6J("linear",!0),e.xp6(2),e.Q6J("formGroupName","step1")("stepControl",s.formControl.get("step1")),e.xp6(9),e.Q6J("matAutocomplete",o),e.xp6(1),e.Q6J("displayWith",s.displayUser),e.xp6(3),e.Q6J("ngForOf",s.selectables.lead_name),e.xp6(11),e.Q6J("svgIcon","heroicons_outline:minus-sm"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(1),e.Q6J("ngForOf",s.workTeam),e.xp6(2),e.Q6J("color","primary"),e.xp6(2),e.Q6J("formGroupName","step2")("stepControl",s.formControl.get("step2")),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:minus-sm"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(2),e.Q6J("ngForOf",s.upgradePlanI),e.xp6(4),e.Q6J("color","primary"),e.xp6(2),e.Q6J("formGroupName","step3")("stepControl",s.formControl.get("step3")),e.xp6(2),e.Q6J("stepper",i),e.xp6(1),e.Q6J("formGroupName","step4")("stepControl",s.formControl.get("step4")),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:minus-sm"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(2),e.Q6J("ngForOf",s.upgradePlanD),e.xp6(4),e.Q6J("color","primary")}},directives:[d.Hw,l._Y,l.JL,l.sg,h.Vq,h.C0,l.x0,h.VY,f.KE,f.hX,q.Nt,l.Fj,U.ZL,l.JJ,l.u,U.XC,A.sg,m.lW,J.SP,h.fd,de,R.ey,J.uX,I.hl,I.nW,f.R9,I.Mq,Y.g6,G.Yh],encapsulation:2}),n})();var Te=r(53402),Se=r(86428),Ae=r(44522),Ie=r(67919),we=r(88182);const P=[{path:"",component:be}];let Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[y.K,N.K,Ie.e,w.a,D.o,$.s,{provide:Ae.TP,useClass:we.X,multi:!0}],imports:[[c.Bz.forChild(P),m.ot,x.p9,f.lN,d.Ps,q.c,_.Fk,b.LD,h.T5,O.m,J.Nh,G.Ad,I.FA,R.XK,Q.ZX,U.Bb,Y.fi.forRoot({modules:{syntax:!0,toolbar:[["bold","italic","underline"],[{align:[]},{list:"ordered"},{list:"bullet"}],["clean"]]}}),Te.J,Se.o,F.AV]]}),n})()},29809:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>BaseModel});class BaseModel{constructor(g){return Object.assign(this,g),this}toJson(){return JSON.stringify(this)}fromJson(g){return JSON.parse(g)}valid(){return this._valid=!0,this.requiredFields().forEach(v=>{eval(v)||(this._valid=!1)}),this._valid}fields(){return Object.keys(this)}requiredFields(){return[]}forEach(g){this.fields().forEach(p=>{g(p,this[p])})}}},23452:(g,p,r)=>{r.d(p,{T:()=>m});var c=r(29809);class m extends c.g{}},8870:(g,p,r)=>{r.d(p,{s:()=>f});var c=r(45452),m=r(83668),x=r(44522);let f=(()=>{class d{constructor(_){this._http=_}getRequests({request_type:_,page:b=1,per_page:h=10}){return this._http.get(`${c._}/api/request?page=${b}&per_page=${h}&request_type=${_}`)}findRequest(_,b){return this._http.get(`${c._}/api/request?id=${_}&request_type=${b}`)}createRequest(_){return this._http.post(`${c._}/api/request/create`,{request:_})}}return d.\u0275fac=function(_){return new(_||d)(m.LFG(x.eN))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac}),d})()},73205:(g,p,r)=>{r.d(p,{K:()=>f});var c=r(45452),m=r(83668),x=r(44522);let f=(()=>{class d{constructor(_){this._http=_}getUsers(_=""){return this._http.get(`${c._}/api/user?search=${_}`)}}return d.\u0275fac=function(_){return new(_||d)(m.LFG(x.eN))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac}),d})()}}]);