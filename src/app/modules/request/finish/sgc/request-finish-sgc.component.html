<div class="flex flex-col flex-auto min-w-0">

  <!-- Header -->
  <div class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-6 sm:py-8 sm:px-10 border-b bg-card dark:bg-transparent">
    <div class="flex-1 min-w-0">
      <!-- Breadcrumbs -->
      <div class="flex flex-wrap items-center font-medium">
        <div>
          <a class="whitespace-nowrap text-primary-500">Solicitud</a>
        </div>
        <div class="flex items-center ml-1 whitespace-nowrap">
          <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
          <a class="ml-1 text-primary-500">Evaluacion</a>
        </div>
      </div>
      <!-- Title -->
      <div class="mt-2">
        <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
          Evaluacion
        </h2>
      </div>
    </div>
  </div>

  <!-- Main -->
  <div class="flex-auto p-6 sm:p-10">

    <div class="max-w-6xl">
      <form class="flex flex-col mt-8 p-8 pb-4 bg-card rounded-2xl shadow overflow-hidden" [formGroup]="formControl">
        <ng-template matStepLabel>Resultados de seguimiento y cierre de la accion</ng-template>
        <div class="flex-auto w-full mt-5">
          <div class="w-full">
            <mat-form-field class="w-1/3 pr-2">
              <mat-label>Fecha de evaluacion</mat-label>
              <input matInput [matDatepicker]="picker6" name="tracking_date" formControlName="tracking_date">
              <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
              <mat-datepicker #picker6></mat-datepicker>
            </mat-form-field>
            <mat-form-field class="w-1/3 pr-2">
              <mat-label>Desde</mat-label>
              <input matInput [matDatepicker]="picker7" name="tracking_date_period_init" formControlName="tracking_date_period_init">
              <mat-datepicker-toggle matSuffix [for]="picker7"></mat-datepicker-toggle>
              <mat-datepicker #picker7></mat-datepicker>
            </mat-form-field>
            <mat-form-field class="w-1/3 pr-2">
              <mat-label>Hasta</mat-label>
              <input matInput [matDatepicker]="picker8" name="tracking_date_period_end" formControlName="tracking_date_period_end">
              <mat-datepicker-toggle matSuffix [for]="picker8"></mat-datepicker-toggle>
              <mat-datepicker #picker8></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="w-full">
            <mat-label>Analisis de datos basado en</mat-label>
            <quill-editor name="result_analysis" formControlName="result_analysis" [styles]="{height: '400px'}"></quill-editor>
          </div>
          <div class="w-full mt-3">
            <mat-form-field class="w-1/5 pr-2">
              <mat-label>Objetivo</mat-label>
              <input matInput name="objective" formControlName="objective" />
            </mat-form-field>
            <mat-form-field class="w-1/5 pr-2">
              <mat-label>Total evaluado</mat-label>
              <input matInput type="number" name="total_review" formControlName="total_review" />
            </mat-form-field>
            <mat-form-field class="w-1/5 pr-2">
              <mat-label>Total conformes</mat-label>
              <input matInput type="number" name="total_agree" formControlName="total_agree" />
            </mat-form-field>
            <mat-form-field class="w-1/5 pr-2 ">
              <mat-label>Total no conformes</mat-label>
              <input matInput type="number" name="total_disagree" formControlName="total_disagree" />
            </mat-form-field>
            <mat-form-field class="w-1/5 pr-2">
              <mat-label>Cumplimiento</mat-label>
              <input matInput type="number" name="total_fulfilment" formControlName="total_fulfilment" />
            </mat-form-field>
          </div>
          <div class="w-full">
            <mat-form-field class="w-2/3 pr-4">
              <mat-label>Quien hace el seguimiento</mat-label>
              <input matInput name="user_tracking_id" formControlName="user_tracking_id" [matAutocomplete]="auto20" (input)="onChangeFilter('user_tracking_id', 'user', '5')" />
              <mat-autocomplete #auto20="matAutocomplete" [displayWith]="displayUser">
                <ng-container>
                  <mat-option *ngFor="let result of selectables['user_tracking_id']" [value]="result">{{result.name}}</mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field>
            <mat-form-field class="w-1/3">
              <mat-label>Fecha de seguimiento</mat-label>
              <input matInput [matDatepicker]="picker10" name="created_at" formControlName="created_at">
              <mat-datepicker-toggle matSuffix [for]="picker10"></mat-datepicker-toggle>
              <mat-datepicker #picker10></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="w-full">
            <mat-form-field class="w-2/3 pr-4">
              <mat-label>Quien realiza la evalucion</mat-label>
              <input matInput name="user_granted_id" formControlName="user_granted_id" [matAutocomplete]="auto21" (input)="onChangeFilter('user_granted_id', 'user', '5')" />
              <mat-autocomplete #auto21="matAutocomplete" [displayWith]="displayUser">
                <ng-container>
                  <mat-option *ngFor="let result of selectables['user_granted_id']" [value]="result">{{result.name}}</mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field>
            <mat-form-field class="w-1/3">
              <mat-label>Resultado de la evaluacion</mat-label>
              <input matInput name="result_code" formControlName="result_code" [matAutocomplete]="auto22" (input)="onChangeFilter('result_code', 'selectable', '5')" />
              <mat-autocomplete #auto22="matAutocomplete" [displayWith]="displaySelectable">
                <ng-container>
                  <mat-option *ngFor="let result of selectables['result_code']" [value]="result">{{result.description}}</mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field>
          </div>
        </div>
        <div class="flex justify-end mt-8">
          <button class="px-8" mat-flat-button [color]="'primary'" type="button" (click)="submit()">
            Publicar evaluacion
          </button>
        </div>
      </form>

    </div>

  </div>

</div>